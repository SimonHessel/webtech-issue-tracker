<app-auth header="Register">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
    <label i18n="@@email" for="eMail">E-Mail</label>
    <mat-form-field appearance="outline">
      <input matInput type="email" name="eMail" formControlName="eMail" />
      <mat-error
        i18n="@@registeremailerror"
        *ngIf="
          !registerForm.controls.eMail?.valid &&
          (registerForm.controls.eMail?.dirty ||
            registerForm.controls.eMail?.touched)
        "
      >
        Please enter a correct E-Mail address
      </mat-error>
    </mat-form-field>

    <label i18n="@@username" for="username">Username</label>
    <mat-form-field appearance="outline">
      <input matInput type="text" name="username" formControlName="username" />
      <mat-error
        i18n="@@registerusernameerror"
        *ngIf="
          !registerForm.controls.username?.valid &&
          (registerForm.controls.username?.dirty ||
            registerForm.controls.username?.touched)
        "
      >
        Please enter a correct username, only use [a-z, A-Z, 0-9, __ , . , -]
      </mat-error>
      <mat-hint i18n="registerusernamehint">
        min. 5 charactes, only use [a-z, A-Z, 0-9, __ , . , -]
      </mat-hint>
    </mat-form-field>

    <label i18n="@@password" for="password">Password</label>
    <mat-form-field appearance="outline">
      <input
        matInput
        #input
        [type]="hide ? 'password' : 'text'"
        name="password"
        formControlName="password"
      />
      <mat-icon matSuffix (click)="hide = !hide">remove_red_eye</mat-icon>
      <mat-error
        i18n="@@registerpassworderror"
        *ngIf="
          !registerForm.controls.password?.valid &&
          (registerForm.controls.password?.dirty ||
            registerForm.controls.password?.touched)
        "
      >
        Please enter a password with at least 6 characters
      </mat-error>
      <mat-hint i18n="@@registerpasswordhint">
        Min. 6 characters, at least one digit and upper case letter {{input.value?.length || 0}}/6
      </mat-hint>
    </mat-form-field>

    <button
      i18n="@@registerbutton"
      mat-button
      type="submit"
      [disabled]="!registerForm.valid"
    >
      Register
    </button>
  </form>
</app-auth>
